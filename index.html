<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Attachment Style Test</title>
<style>
body {
    font-family: Arial;
    background: linear-gradient(135deg, #f6d365, #fda085);
    min-height: 100vh;
}
.box {
    width: 500px;
    margin: 100px auto;
    background: white;
    padding: 50px;
    border-radius: 25px;
    transition: all 0.4s ease;
    position: relative;
}

/* Hi·ªáu ·ª©ng fade */
.fade-out {
    opacity: 0;
    transform: translateX(-10px);
}

.fade-in {
    opacity: 1;
    transform: translateX(0);
}
button {
    padding: 10px;
    border-radius: 6px;
    border: 1px solid white;
    cursor: pointer;
}

button:hover {
    background: wheat;
}

#answers button {
    display: block;
    width: 100%;
    margin-bottom: 10px;
}

/* Khung ch·ª©a 2 n√∫t */
.nav-buttons {
    display: flex;
    justify-content: space-between; /* tr√°i ‚Äì ph·∫£i */
    margin-top: 20px;
}

.prev-btn {
    background: #cccccc;
    border: none;
    padding: 10px 18px;
    border-radius: 8px;
}

.next-btn {
    background: #1e90ff;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 8px;
    font-weight: bold;
}

/* Hover cho ƒë·∫πp */
.nav-btn:hover {
    opacity: 0.9;
}

.solution-main {
    margin-top: 20px;
    color: #2ecc71;
}

.solution-item {
    margin-bottom: 15px;
    padding: 10px;
    border-left: 4px solid #2ecc71;
    background-color: #f4fff7;
    border-radius: 6px;
}

.disclaimer {
    position: absolute;
    top: 15px;
    right: 20px;
    color: #d63031;
    font-size: 13px;
    font-weight: bold;
    background: #ffecec;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #fab1a0;
}
</style>
</head>

<body>
<div class="box">
    <h2 id="question"></h2>

    <div id="answers"></div>

    <!-- N√öT ƒêI·ªÄU H∆Ø·ªöNG -->
    <div class="nav-buttons">
    <button id="prevBtn" class="prev-btn" onclick="prevQuestion()">‚¨Ö C√¢u tr∆∞·ªõc</button>
    <button id="nextBtn" class="next-btn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚û°</button>
</div>
</div>
</body>

<script>
const questions = [
{
    question: "T√¥i l√† ng∆∞·ªùi c√≥ t√≠nh c√°ch thi√™n v·ªÅ?",
    answers: [
        {
            text: "C·ªüi m·ªü", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "T·∫≠n t√¢m", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "D·ªÖ ch·ªãu", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "H∆∞·ªõng ngo·∫°i", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "Nh·∫°y c·∫£m, lo √¢u", 
            score: 1,
            type: ["anxious", "avoidant", "disorganized"]
        }
    ]
},
{
    question: "Trong th·ªùi th∆° ·∫•u, khi g·∫∑p m·ªôt v·∫•n ƒë·ªÅ nan gi·∫£i t√¥i s·∫Ω c√≥ xu h∆∞·ªõng?",
    answers: [
        {
            text: "T·ª± gi·∫£i quy·∫øt", 
            score: 1,
            type: ["avoidant"]
        },
        {
            text: "T·ª± gi·∫£i quy·∫øt r·ªìi m·ªõi t√¨m s·ª± gi√∫p ƒë·ª°", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "T√¨m ki·∫øm s·ª± gi√∫p ƒë·ª° ngay", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "T√¨m ki·∫øm s·ª± gi√∫p ƒë·ª° trong lo s·ª£",
            score: 1,
            type: ["anxious"]
        }
    ]
},
{
    question: "Trong th·ªùi th∆° ·∫•u, t√¥i c·∫£m th·∫•y lo l·∫Øng khi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng th√¢n m·∫≠t v·ªõi b·∫°n?",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0}
    ]
},
{
    question: "Trong th·ªùi th∆° ·∫•u, t√¥i y√™u th√≠ch vi·ªác m√¨nh c√≥ kh√¥ng gian ri√™ng nhi·ªÅu h∆°n kh√¥ng gian c√≥ b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
    type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0}
    ]
},
{
    question: "B·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng quan t√¢m ƒë·∫øn c·∫£m x√∫c c·ªßa t√¥i khi t√¥i bu·ªìn?",
    answers: [
        {
            text: "ƒê·ªìng √Ω", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "Trung l·∫≠p", 
            score: 1,
            type: ["anxious", "avoidant"]
        },
        {
            text: "Kh√¥ng ƒë·ªìng √Ω", 
            score: 1,
            type: ["disorganized"]
        }
    ]
},
{
    question: "M·ªëi quan h·ªá c·ªßa t√¥i v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng trong th·ªùi ·∫•u th∆°?",
    answers: [
        {
            text: "H·ªç lu√¥n y√™u th∆∞∆°ng t√¥i v√¥ ƒëi·ªÅu ki·ªán", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "H·ªç d∆∞·ªùng nh∆∞ ch·ªâ y√™u th∆∞∆°ng t√¥i khi t√¥i ƒë·∫°t th√†nh t·ª±u", 
            score: 1,
            type: ["anxious"]
        },
        {
            text: "ƒê√¥i l√∫c h·ªç t·ªè ra xa c√°ch v·ªõi t√¥i", 
            score: 1,
            type: ["avoidant"]
        },
        {
            text: "H·ªç kh√¥ng quan t√¢m, th·ªù ∆°, l·∫°nh nh·∫°t v·ªõi t√¥i", 
            score: 1,
            type: ["disorganized"]
        }
    ]
},
{
     question: "T√¥i c·∫£m th·∫•y tho·∫£i m√°i khi ·ªü c√πng b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
     type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{
      question: "T√¥i c·∫£m th·∫•y tho·∫£i m√°i khi ƒë∆∞·ª£c g·∫ßn g≈©i, th√¢n m·∫≠t v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
      type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i c·∫£m th·∫•y tho·∫£i m√°i khi ƒë∆∞·ª£c b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng h·ªèi han, quan t√¢m m√¨nh?",
    type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i d·ªÖ ph·ª• thu·ªôc v√†o b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
    type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i c·∫£m th·∫•y lo s·ª£ khi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng quan t√¢m ƒë·∫øn ng∆∞·ªùi kh√°c nhi·ªÅu h∆°n quan t√¢m ƒë·∫øn t√¥i d√π t√¥i l√† ng∆∞·ªùi quan tr·ªçng v·ªõi h·ªç?",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i c·∫£m th·∫•y lo l·∫Øng khi l√†m tr√°i ng∆∞·ª£c v·ªõi nh·ªØng g√¨ b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ƒë√£ d·∫°y d√π ƒë√≥ ch·ªâ l√† m·ªôt vi·ªác r·∫•t nh·ªè?",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "Trong l√∫c tr√≤ chuy·ªán v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng, t√¥i lo l·∫Øng v·ªÅ vi·ªác chia s·∫ª c·∫£m x√∫c th·∫≠t c·ªßa m√¨nh?",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i s·ª£ b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng b·ªè r∆°i t√¥i?",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i y√™u th√≠ch vi·ªác tr√≤ chuy·ªán s√¢u s·∫Øc c√πng b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i th∆∞·ªùng th·∫£o lu·∫≠n k·ªπ l∆∞·ª°ng c√°c v·∫•n ƒë·ªÅ quan tr·ªçng v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng?",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i lo s·ª£ r·∫±ng m√¨nh kh√¥ng quan tr·ªçng v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng c≈©ng nh∆∞ e ng·∫°i v·ªÅ vi·ªác h·ªç xem t√¥i l√† t·∫•t c·∫£?",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i th√≠ch b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng y√™u th∆∞∆°ng t√¥i c≈©ng nh∆∞ vi·ªác th√¢n m·∫≠t v·ªõi h·ªç?",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i c·∫£m th·∫•y cu·ªôc s·ªëng c·ªßa t√¥i.",
    answers: [
        {
            text: "Nhi·ªÅu ni·ªÅm vui, nhi·ªÅu ƒëi·ªÅu kh√°m ph√°", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "ƒê·∫ßy r·∫´y nh·ªØng lo √¢u, cƒÉng th·∫≥ng", 
            score: 1,
            type: ["anxious"]
        },
        {
            text: "C√¥ ƒë∆°n, l·∫ª loi", 
            score: 1,
            type: ["avoidant"]
        },
        {
            text: "ƒê√¥i khi t√¥i c·∫£m th·∫•y m√¨nh t·ªìn t·∫°i hai tr·∫°ng th√°i c·∫£m x√∫c ƒë·ªëi l·∫≠p nhau", 
            score: 1,
            type: ["disorganized"]
        },
        {
            text: "V√¥ ƒë·ªãnh", 
            score: 1,
            type: ["disorganized"]
        }
    ]
},
{  
    question: "Khi g·∫∑p kh√≥ khƒÉn, th√°ch th·ª©c t√¥i c√≥ xu h∆∞·ªõng.",
    answers: [
        {
            text: "T·ª± gi·∫£i quy·∫øt", 
            score: 1,
            type: ["avoidant"]
        },
        {
            text: "T·ª± gi·∫£i quy·∫øt r·ªìi m·ªõi t√¨m s·ª± gi√∫p ƒë·ª°", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "T√¨m ki·∫øm s·ª± gi√∫p ƒë·ª° ngay", 
            score: 1,
            type: ["secure"]
        },
        {
            text: "T√¨m ki·∫øm s·ª± gi√∫p ƒë·ª° trong lo s·ª£",
            score: 1,
            type: ["anxious"]
        }
    ]
},
{  
    question: "T√¥i kh√≥ b√†y t·ªè c·∫£m x√∫c th·∫≠t c·ªßa m√¨nh.",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i lu√¥n c·∫£m th·∫•y lo s·ª£ khi g·∫∑p v·∫•n ƒë·ªÅ d√π r·∫•t nh·ªè.",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i lo l·∫Øng v·ªÅ vi·ªác m√¨nh x·ª©ng ƒë√°ng ƒë∆∞·ª£c y√™u th∆∞∆°ng.",
    type: ["anxious"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
},
{  
    question: "T√¥i y√™u th√≠ch vi·ªác hi·ªÉu r√µ c·∫£m x√∫c c·ªßa nh·ªØng ng∆∞·ªùi quan tr·ªçng v·ªõi t√¥i.",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i kh√¥ng s·ª£ c√°c cu·ªôc tranh c√£i v√¨ m·ª•c ƒë√≠ch hi·ªÉu h∆°n v·ªÅ nh·ªØng ng∆∞·ªùi quan tr·ªçng v·ªõi m√¨nh.",
    type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "T√¥i c√≥ xu h∆∞·ªõng ƒë·ªëi m·∫∑t v·ªõi c√°c v·∫•n ƒë·ªÅ xu·∫•t hi·ªán trong cu·ªôc s·ªëng c·ªßa t√¥i d√π cho v·∫•n ƒë·ªÅ c·∫ßn nhi·ªÅu n·ªó l·ª±c ƒë·ªÉ gi·∫£i quy·∫øt.",
    type: ["avoidant"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 0},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 1},
    ]
},
{  
    question: "Trong c√°c m·ªëi quan h·ªá th√¢n thi·∫øt, t√¥i th∆∞·ªùng c·∫£m th·∫•y m√¢u thu·∫´n gi·ªØa vi·ªác mu·ªën g·∫ßn g≈©i v√† vi·ªác s·ª£ b·ªã t·ªïn th∆∞∆°ng.",
    type: ["disorganized"],
    answers: [
        {text: "ƒê·ªìng √Ω", score: 1},
        {text: "Trung l·∫≠p", score: 0.5},
        {text: "Kh√¥ng ƒë·ªìng √Ω", score: 0},
    ]
}
];

let index = 0;
let userAnswers = new Array(questions.length).fill(null);

let SecureAttachmentScore = 0;
let AnxiousAttachmentScore = 0;
let AvoidantAttachmentScore = 0;
let DisorganizedAttachmentScore = 0;

function loadQuestion() {
    const box = document.querySelector(".box");
    box.classList.add("fade-out");

    setTimeout(() => {
        const q = questions[index];
        document.getElementById("question").innerText = q.question;
        const ansDiv = document.getElementById("answers");
        ansDiv.innerHTML = "";

        q.answers.forEach((a, i) => {
            const btn = document.createElement("button");
            btn.innerText = a.text;

            if (userAnswers[index] === i) {
                btn.style.background = "#cce5ff";
            }

            btn.onclick = () => {
                userAnswers[index] = i;
                [...ansDiv.children].forEach(b => b.style.background = "");
                btn.style.background = "#cce5ff";
            };

            ansDiv.appendChild(btn);
        });

        updateNavButtons();

        box.classList.remove("fade-out");
        box.classList.add("fade-in");

    }, 200);
}

function updateNavButtons() {
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    // ·∫®n n√∫t "C√¢u tr∆∞·ªõc" ·ªü c√¢u ƒë·∫ßu
    if (index === 0) {
        prevBtn.style.display = "none";
    } else {
        prevBtn.style.display = "inline-block";
    }

    // ƒê·ªïi ch·ªØ n√∫t ·ªü c√¢u cu·ªëi
    if (index === questions.length - 1) {
        nextBtn.innerText = "Xem k·∫øt qu·∫£ ‚û°";
    } else {
        nextBtn.innerText = "C√¢u ti·∫øp theo ‚û°";
    }
}

function addMultipleScores(types, score) {
    types.forEach(type => {
        if (type === "secure") SecureAttachmentScore += score;
        if (type === "anxious") AnxiousAttachmentScore += score;
        if (type === "avoidant") AvoidantAttachmentScore += score;
        if (type === "disorganized") DisorganizedAttachmentScore += score;
    });
}

function nextQuestion() {
    if (userAnswers[index] === null) {
        alert("Vui l√≤ng ch·ªçn m·ªôt ƒë√°p √°n tr∆∞·ªõc khi ti·∫øp t·ª•c.");
        return;
    }

    index++;
    if (index < questions.length) {
        loadQuestion();
    } else {
        calculateScore();
        showResult();
    }
}

function prevQuestion() {
    if (index > 0) {
        index--;
        loadQuestion();
    }
}

function calculateScore() {
    SecureAttachmentScore = 0;
    AnxiousAttachmentScore = 0;
    AvoidantAttachmentScore = 0;
    DisorganizedAttachmentScore = 0;

    questions.forEach((q, qi) => {
        const answerIndex = userAnswers[qi];
        const answer = q.answers[answerIndex];

        const typesToUse = answer.type || q.type;
        addMultipleScores(typesToUse, answer.score);
    });
}

const attachmentDescriptions = {
    "G·∫Øn b√≥ an to√†n": "B·∫°n c·∫£m th·∫•y tho·∫£i m√°i v·ªõi s·ª± g·∫ßn g≈©i v√† ƒë·ªôc l·∫≠p trong c√°c m·ªëi quan h·ªá.",
    "G·∫Øn b√≥ lo √¢u": "B·∫°n c√≥ xu h∆∞·ªõng lo l·∫Øng v·ªÅ vi·ªác b·ªã b·ªè r∆°i v√† c·∫ßn nhi·ªÅu s·ª± tr·∫•n an.",
    "G·∫Øn b√≥ n√© tr√°nh": "B·∫°n ƒë·ªÅ cao s·ª± ƒë·ªôc l·∫≠p v√† th∆∞·ªùng n√© tr√°nh s·ª± th√¢n m·∫≠t qu√° m·ª©c.",
    "G·∫Øn b√≥ h·ªón lo·∫°n": "B·∫°n v·ª´a khao kh√°t s·ª± g·∫ßn g≈©i v·ª´a s·ª£ h√£i n√≥."
};

const attachmentSolutions = {
    "G·∫Øn b√≥ an to√†n": [
        {
            text: `
            B·∫°n c√≥ n·ªÅn t·∫£ng g·∫Øn b√≥ kh√° ·ªïn ƒë·ªãnh.
            H√£y ti·∫øp t·ª•c duy tr√¨ s·ª± c√¢n b·∫±ng gi·ªØa ƒë·ªôc l·∫≠p v√† g·∫Øn k·∫øt,
            ƒë·ªìng th·ªùi l·∫Øng nghe c·∫£m x√∫c c·ªßa b·∫£n th√¢n v√† ng∆∞·ªùi kh√°c.
            `
        }
    ],

    "G·∫Øn b√≥ lo √¢u": [
        {
            title: "Th·ª´a nh·∫≠n t√≠nh c√°ch",
            text: `
            Th·ª´a nh·∫≠n r·∫±ng b·∫°n c·∫£m th·∫•y lo √¢u khi tr√≤ chuy·ªán ho·∫∑c th√¢n m·∫≠t v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng. 
            Ch·∫•p nh·∫≠n r·∫±ng b·∫£n th√¢n b·∫°n th·∫≠t s·ª± ch∆∞a c·∫£m th·∫•y s·ª± an to√†n nh∆∞ng kh√¥ng t√¨m ki·∫øm s·ª± an to√†n m·ªôt c√°ch m√π qu√°ng. 
            Vi·ªác th·ª´a nh·∫≠n n√†y l√† b∆∞·ªõc ƒë·∫ßu c·ªßa ch·ªØa l√†nh.
            `
        },
        {
            title: "H·ªìi t∆∞·ªüng tr·∫£i nghi·ªám g·ªëc",
            text: `
            H·ªìi t∆∞·ªüng n·ªôi t√¢m b·∫±ng c√°ch nh·ªõ v·ªÅ nh·ªØng ƒëi·ªÅu b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ƒë√£ t·ª´ng g√¢y t·ªïn th∆∞∆°ng cho b·∫°n, 
            nh·ªØng k·ª∑ ni·ªám kh√¥ng m·∫•y t·ªët ƒë·∫πp c√πng b·ªë m·∫π khi·∫øn b·∫°n lo l·∫Øng, 
            s·ª£ h√£i khi ƒë·ªëi di·ªán v·ªõi h·ªç, 
            t·ª´ ƒë√≥ t√¨m ra nguy√™n nh√¢n th·∫≠t s·ª± khi·∫øn b·∫°n c·∫£m th·∫•y lo s·ª£ nh∆∞ng v·∫´n mu·ªën nh·∫≠n ƒë∆∞·ª£c s·ª± y√™u th∆∞∆°ng t·ª´ h·ªç.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch xu·∫•t hi·ªán",
            text: `
            Cho ph√©p nh·ªØng t√≠nh c√°ch nh∆∞ lo √¢u, s·ª£ h√£i, s·ª£ b·ªã b·ªè r∆°i,... ƒë∆∞·ª£c xu·∫•t hi·ªán. 
            Nghƒ©a l√† b·∫°n c·∫ßn b√†y t·ªè nh·ªØng ph·∫ßn t√≠nh c√°ch ·∫•y cho b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ho·∫∑c cho ch√≠nh m√¨nh.
Tr√≤ chuy·ªán v·ªõi b·∫£n th√¢n th∆∞·ªùng xuy√™n: 
M·ªói ng√†y d√†nh ra m·ªôt kho·∫£ng th·ªùi gian 5 ƒë·∫øn 10 ph√∫t chuy·ªán tr√≤ v·ªõi b·∫£n th√¢n. N·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn h√£y ƒë·∫∑t ƒë·ªìng h·ªì b√°o th·ª©c v√† ng·ªìi y√™n kh√¥ng l√†m g√¨ c·∫£, kh√¥ng thi·∫øt b·ªã ƒëi·ªán tho·∫°i, kh√¥ng ti·∫øng ·ªìn, m·ªôt n∆°i y√™n tƒ©nh v√† ƒë·∫∑t h·∫πn gi·ªù trong 5 ph√∫t. 
ƒêi·ªÅu n√†y s·∫Ω ƒë√°nh th·ª©c t√¢m tr√≠ b·∫°n. Khi ƒë√£ l√†m ƒë∆∞·ª£c, h√£y d√†nh m·ªôt khung gi·ªù trong ng√†y ƒë·ªÉ tr√≤ chuy·ªán v·ªõi ch√≠nh b·∫£n th√¢n m√¨nh.
N√≥i cho b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ho·∫∑c nh·ªØng ng∆∞·ªùi quan tr·ªçng c√≥ kh·∫£ nƒÉng l·∫Øng nghe b·∫°n bi·∫øt ƒë∆∞·ª£c c·∫£m nghƒ© c·ªßa b·∫°n: 
Vi·ªác n√≥i ra suy nghƒ©, c·∫£m x√∫c c·ªßa m√¨nh kh√¥ng ch·ªâ gi√∫p ch√∫ng ta gi·∫£i t·ªèa ƒë∆∞·ª£c cƒÉng th·∫≥ng m√† c√≤n n√¢ng cao kh·∫£ nƒÉng ki·ªÉm so√°t c·∫£m x√∫c, gi√∫p t√¢m tr·∫°ng ·ªïn ƒë·ªãnh h∆°n.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch th·ªÉ hi·ªán theo c√°ch l√†nh m·∫°nh",
            text: `
            Cho ph√©p nh·ªØng ph·∫ßn t√≠nh c√°ch b√™n trong ti·ªÅm th·ª©c ƒë∆∞·ª£c b·ªôc l·ªô m·ªôt c√°ch l√†nh m·∫°nh c≈©ng l√† ƒëang h∆∞·ªõng ƒë·∫øn vi·ªác ch·ªØa l√†nh.
Vi·∫øt nh·∫≠t k√Ω: 
D√†nh 5 ph√∫t m·ªói ng√†y vi·∫øt ra suy nghƒ©, c·∫£m x√∫c, s·ª± ki·ªán,... trong ng√†y c·ªßa b·∫£n th√¢n gi√∫p ta kh√¥ng ch·ªâ nh·∫≠n di·ªán ƒë∆∞·ª£c ch√∫ng m√† c√≤n ƒëi·ªÅu h∆∞·ªõng nh·ªØng ƒëi·ªÅu ti√™u c·ª±c ƒëi ƒë·∫øn m·ªôt gi·∫£i ph√°p t·ªët h∆°n.
D√†nh th·ªùi gian t·ª± do trong ng√†y l√†m vi·ªác m√¨nh y√™u th√≠ch: 
Vi·ªác n√†y s·∫Ω khi·∫øn b·∫°n ch√¨m ƒë·∫Øm trong th·∫ø gi·ªõi c·ªßa ri√™ng m√¨nh, n∆°i m√† b·∫£n th√¢n c√≥ th·ªÉ l√†m ƒëi·ªÅu m√¨nh th√≠ch m√† kh√¥ng ch·ªãu s·ª± ph√°n x√©t, thi·∫øu ch·∫Øc ch·∫Øn, s·ª± m·∫•t c√¢n ƒë·ªëi t·ª´ b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng.
            `
        }
    ],

    "G·∫Øn b√≥ n√© tr√°nh": [
        {
            title: "Th·ª´a nh·∫≠n t√≠nh c√°ch",
            text: `
            Th·ª´a nh·∫≠n r·∫±ng b·∫°n c√≥ xu h∆∞·ªõng n√© tr√°nh khi tr√≤ chuy·ªán ho·∫∑c th√¢n m·∫≠t v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng.
            Vi·ªác b·∫°n gi·ªØ kho·∫£ng c√°ch c·∫£m x√∫c c≈©ng l√† m·ªôt c√°ch t·ª± b·∫£o v·ªá b·∫£n th√¢n.
            `
        },
        {
            title: "H·ªìi t∆∞·ªüng tr·∫£i nghi·ªám g·ªëc",
            text: `
           H·ªìi t∆∞·ªüng n·ªôi t√¢m b·∫±ng c√°ch nh·ªõ v·ªÅ nh·ªØng ƒëi·ªÅu b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng l√†m t·ªïn th∆∞∆°ng b·∫°n khi·∫øn b·∫°n h√†nh x·ª≠ kh√°c ƒëi. 
           V√≠ d·ª•, th·ªùi th∆° ·∫•u khi b·∫°n nh·ªù h·ªç gi√∫p m·ªôt vi·ªác nh·ªè nh∆∞ng h·ªç kh√¥ng gi√∫p v√† b·∫°n h·ªçc ƒë∆∞·ª£c r·∫±ng vi·ªác t·ª± l·∫≠p l√† ƒëi·ªÅu c·∫ßn thi·∫øt.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch xu·∫•t hi·ªán",
            text: `
            Cho ph√©p nh·ªØng t√≠nh c√°ch nh∆∞ e ng·∫°i, n·ªói s·ª£ th√¢n m·∫≠t,... ƒë∆∞·ª£c xu·∫•t hi·ªán. Nghƒ©a l√† b·∫°n c·∫ßn b√†y t·ªè nh·ªØng ph·∫ßn t√≠nh c√°ch ·∫•y cho b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ho·∫∑c cho ch√≠nh m√¨nh.
Tr√≤ chuy·ªán v·ªõi b·∫£n th√¢n th∆∞·ªùng xuy√™n:
M·ªói ng√†y d√†nh ra m·ªôt kho·∫£ng th·ªùi gian 5 ƒë·∫øn 10 ph√∫t chuy·ªán tr√≤ v·ªõi b·∫£n th√¢n. N·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn h√£y ƒë·∫∑t ƒë·ªìng h·ªì b√°o th·ª©c v√† ng·ªìi y√™n kh√¥ng l√†m g√¨ c·∫£, kh√¥ng thi·∫øt b·ªã ƒëi·ªán tho·∫°i, kh√¥ng ti·∫øng ·ªìn, m·ªôt n∆°i y√™n tƒ©nh v√† ƒë·∫∑t h·∫πn gi·ªù trong 5 ph√∫t. 
ƒêi·ªÅu n√†y s·∫Ω ƒë√°nh th·ª©c t√¢m tr√≠ b·∫°n. 
Khi ƒë√£ l√†m ƒë∆∞·ª£c, h√£y d√†nh m·ªôt khung gi·ªù trong ng√†y ƒë·ªÉ tr√≤ chuy·ªán v·ªõi ch√≠nh b·∫£n th√¢n m√¨nh.
H·ªçc c√°ch m·ªü l√≤ng: 
D√†nh ra m·ªôt kho·∫£ng th·ªùi gian trong ng√†y c√πng b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ho·∫∑c nh·ªØng ng∆∞·ªùi quan tr·ªçng v·ªõi b·∫°n ƒë·ªÉ tr√≤ chuy·ªán c≈©ng nh∆∞ hi·ªÉu h∆°n v·ªÅ h·ªç. 
N·∫øu g·∫∑p kh√≥ khƒÉn, h√£y b√†y t·ªè c·∫£m x√∫c s√¢u k√≠n c·ªßa b·∫°n v·ªõi nh·ªØng ƒë·ªì v·∫≠t b·∫°n y√™u th√≠ch (g·∫•u b√¥ng, t∆∞·ª£ng heo ƒë·∫•t,...) r·ªìi sau ƒë√≥ h√£y b√†y t·ªè nh·ªØng ƒëi·ªÅu ƒë√≥ v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch th·ªÉ hi·ªán theo c√°ch l√†nh m·∫°nh",
            text: `
            Cho ph√©p nh·ªØng ph·∫ßn t√≠nh c√°ch b√™n trong ti·ªÅm th·ª©c ƒë∆∞·ª£c b·ªôc l·ªô m·ªôt c√°ch l√†nh m·∫°nh c≈©ng l√† ƒëang h∆∞·ªõng ƒë·∫øn vi·ªác ch·ªØa l√†nh.
Vi·∫øt nh·∫≠t k√Ω: 
D√†nh 5 ph√∫t m·ªói ng√†y vi·∫øt ra suy nghƒ©, c·∫£m x√∫c, s·ª± ki·ªán,... trong ng√†y c·ªßa b·∫£n th√¢n gi√∫p ta kh√¥ng ch·ªâ nh·∫≠n di·ªán ƒë∆∞·ª£c ch√∫ng m√† c√≤n ƒëi·ªÅu h∆∞·ªõng nh·ªØng ƒëi·ªÅu ti√™u c·ª±c ƒëi ƒë·∫øn m·ªôt gi·∫£i ph√°p t·ªët h∆°n.
C√πng b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng l√†m nh·ªØng ƒëi·ªÅu b·∫°n y√™u th√≠ch: 
Khi ƒë·ªß kh·∫£ nƒÉng g·∫Øn k·∫øt, vi·ªác c√πng b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng tham gia v√†o c√°c ho·∫°t ƒë·ªông b·∫°n y√™u th√≠ch l√† m·ªôt √Ω ki·∫øn kh√¥ng t·ªìi t√≠ n√†o.
            `
        }
    ],

    "G·∫Øn b√≥ h·ªón lo·∫°n": [
        {
            title: "Th·ª´a nh·∫≠n t√≠nh c√°ch",
            text: `
            Th·ª´a nh·∫≠n r·∫±ng b·∫°n g·∫∑p m√¢u thu·∫´n trong vi·ªác mu·ªën ƒë∆∞·ª£c th√¢n m·∫≠t nh∆∞ng l·∫°i s·ª£ b·ªã t·ªïn th∆∞∆°ng khi ƒë·ªëi di·ªán v·ªõi b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng. 
            Vi·ªác nh·∫≠n di·ªán m√¢u thu·∫´n n√†y l√† b∆∞·ªõc ƒë·∫ßu ƒë·ªÉ h∆∞·ªõng ƒë·∫øn vi·ªác ch·ªØa l√†nh.
            `
        },
        {
            title: "H·ªìi t∆∞·ªüng tr·∫£i nghi·ªám g·ªëc",
            text: `
            H·ªìi t∆∞·ªüng v·ªÅ nh·ªØng k√Ω ·ª©c kh√¥ng m·∫•y t·ªët ƒë·∫πp trong qu√° kh·ª© l√† qu√° tr√¨nh kh√¥ng m·∫•y su√¥n s·∫ª nh∆∞ng s·∫Ω gi√∫p b·∫°n t√¨m ra ƒë∆∞·ª£c g·ªëc r·ªÖ m√† t√≠nh c√°ch ch√≠nh b·∫°n h√¨nh th√†nh.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch xu·∫•t hi·ªán",
            text: `
            Cho ph√©p nh·ªØng t√≠nh c√°ch nh∆∞ nh√∫t nh√°t, s·ª£ s·ªát, khao kh√°t s·ª± th√¢n m·∫≠t,... ƒë∆∞·ª£c xu·∫•t hi·ªán. Nghƒ©a l√† b·∫°n c·∫ßn b√†y t·ªè nh·ªØng ph·∫ßn t√≠nh c√°ch ·∫•y cho b·ªë m·∫π/ng∆∞·ªùi nu√¥i d∆∞·ª°ng ho·∫∑c cho ch√≠nh m√¨nh.
Tr√≤ chuy·ªán v·ªõi b·∫£n th√¢n th∆∞·ªùng xuy√™n: 
M·ªói ng√†y d√†nh ra m·ªôt kho·∫£ng th·ªùi gian 5 ƒë·∫øn 10 ph√∫t chuy·ªán tr√≤ v·ªõi b·∫£n th√¢n. N·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn h√£y ƒë·∫∑t ƒë·ªìng h·ªì b√°o th·ª©c v√† ng·ªìi y√™n kh√¥ng l√†m g√¨ c·∫£, kh√¥ng thi·∫øt b·ªã ƒëi·ªán tho·∫°i, kh√¥ng ti·∫øng ·ªìn, m·ªôt n∆°i y√™n tƒ©nh v√† ƒë·∫∑t h·∫πn gi·ªù trong 5 ph√∫t. 
ƒêi·ªÅu n√†y s·∫Ω ƒë√°nh th·ª©c t√¢m tr√≠ b·∫°n. 
Khi ƒë√£ l√†m ƒë∆∞·ª£c, h√£y d√†nh m·ªôt khung gi·ªù trong ng√†y ƒë·ªÉ tr√≤ chuy·ªán v·ªõi ch√≠nh b·∫£n th√¢n m√¨nh.
            `
        },
        {
            title: "Cho ph√©p t√≠nh c√°ch th·ªÉ hi·ªán theo c√°ch l√†nh m·∫°nh",
            text: `
            Cho ph√©p nh·ªØng ph·∫ßn t√≠nh c√°ch b√™n trong ti·ªÅm th·ª©c ƒë∆∞·ª£c b·ªôc l·ªô m·ªôt c√°ch l√†nh m·∫°nh c≈©ng l√† ƒëang h∆∞·ªõng ƒë·∫øn vi·ªác ch·ªØa l√†nh
Vi·∫øt nh·∫≠t k√Ω: 
D√†nh 5 ph√∫t m·ªói ng√†y vi·∫øt ra suy nghƒ©, c·∫£m x√∫c, s·ª± ki·ªán,... trong ng√†y c·ªßa b·∫£n th√¢n gi√∫p ta kh√¥ng ch·ªâ nh·∫≠n di·ªán ƒë∆∞·ª£c ch√∫ng m√† c√≤n ƒëi·ªÅu h∆∞·ªõng nh·ªØng ƒëi·ªÅu ti√™u c·ª±c ƒëi ƒë·∫øn m·ªôt gi·∫£i ph√°p t·ªët h∆°n.
            `
        }
    ]
};

function getDominantAttachment() {
    const scores = {
        "G·∫Øn b√≥ an to√†n": SecureAttachmentScore,
        "G·∫Øn b√≥ lo √¢u": AnxiousAttachmentScore,
        "G·∫Øn b√≥ n√© tr√°nh": AvoidantAttachmentScore,
        "G·∫Øn b√≥ h·ªón lo·∫°n": DisorganizedAttachmentScore
    };

    const maxScore = Math.max(...Object.values(scores));

    // L·ªçc ra c√°c ki·ªÉu c√≥ ƒëi·ªÉm cao nh·∫•t (ph√≤ng tr∆∞·ªùng h·ª£p ƒë·ªìng ƒëi·ªÉm)
    const dominantTypes = Object.keys(scores).filter(
        key => scores[key] === maxScore
    );

    return dominantTypes;
}

function showResult() {
    const dominantTypes = getDominantAttachment();
    const mainType = dominantTypes[0];
    const solutions = attachmentSolutions[mainType];

    let solutionHTML = "<h3 class='solution-main'>üß≠Gi·∫£i ph√°p</h3>";

    solutions.forEach(s => {
        solutionHTML += `
            <h4 class="solution-title">${s.title}</h4>
            <div class="solution-text">${s.text}</div>
        `;
    });

    document.querySelector(".box").innerHTML = `
    <div class="disclaimer">‚ö†Ô∏è Kh√¥ng thay th·∫ø chuy√™n gia t√¢m l√Ω</div>

    <h2>K·∫øt qu·∫£ tr·∫Øc nghi·ªám</h2>

        <p>üîµ G·∫Øn b√≥ an to√†n: <b>${SecureAttachmentScore}</b></p>
        <p>üü° G·∫Øn b√≥ lo √¢u: <b>${AnxiousAttachmentScore}</b></p>
        <p>üü† G·∫Øn b√≥ n√© tr√°nh: <b>${AvoidantAttachmentScore}</b></p>
        <p>üî¥ G·∫Øn b√≥ h·ªón lo·∫°n: <b>${DisorganizedAttachmentScore}</b></p>

        <hr>

        <h3 style="color:#007bff;">‚ú® Ki·ªÉu g·∫Øn b√≥ n·ªïi b·∫≠t</h3>
        <p style="font-size:18px; font-weight:bold;">
            ${dominantTypes.join(" & ")}
        </p>

        ${solutionHTML}

        <p>
            ${dominantTypes.map(t => attachmentDescriptions[t]).join("<br>")}
        </p>

        <hr>

        
    `;
}
loadQuestion();
</script>
</body>
</html>